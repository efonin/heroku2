<!DOCTYPE html><html><head>
  <title>Orientation</title>
  <meta name="viewport" content="initial-scale=1.0" />
</head>
<body>
<div id="orient"><div>
<script>
function getorientation() {
  var orientation = 'portrait';
  var backgroundcolor = "#0FF000";
  if( undefined != window.orientation ) {
    if( 90 == window.orientation
        || -90 == window.orientation ) 
    {
      orientation = 'landscape';
      backgroundcolor = "#0FF000";     
    }
  }
  else if( window.innerHeight < window.innerWidth ) {
     orientation = 'landscape';
     window.backgroundcolor = "#0FF000";    
  }

  return orientation;
}

function orientationchanged(callback) {
  if( 'onorientationchange' in window ) {
    window.onorientationchange = function() {
      callback(getorientation());
    }
  }
  else {
    window.onresize = function() {
      callback(getorientation());
    }
  }
}

var orient = document.getElementById('orient');
orient.innerText = getorientation();

orientationchanged(function(orientation){
  orient.innerText = orientation;
});
</script>
</body></html>
